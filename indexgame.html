<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>kunGame</title>
		<script src="js/jquery.js"></script>
		<script>
			var Script = document.createElement("script");
			Script.src="json/indexgame.json"
			document.head.appendChild(Script);
		</script>
		<style>
			body{
				width:1000px;
				height:1650px;
				border: 1px solid black;
				text-align: center;
				border:none;
				font-size: 60px;
				border: 1px solid black;
			}
			.user{
				position: absolute;
				width:980px;
				height:300px;
				background-color: dimgray;
				border-radius: 20%;
				color: white;
			}
			.userimg{
				position: absolute;
				top:30px;
				left:100px;
				width:150px;
				height:150px;
				border-radius: 100%;
				border: 5px solid white;
			}
			.btna{
				position: absolute;
				width:150px;
				height:75px;
				font-size: 80%;
				border-radius: 40%;
				top:70px;
				right:130px;
				color: black;
				background-color: white;
			}
			.line{
				position: absolute;
				height:4px;
			}
			.turn{
				position: absolute;
				top:200px;
				left:300px;
				width:600px;
				height:240px;
				background-color: grey;
				color: white;
				font-size: 70%;
				border-radius: 10%;
				display: none;
				text-align: left;
			}
			.btnc{
				position: absolute;
				top:180px;
				right:1px;
				width:120px;
				height:60px;
				background-color: greenyellow;
				font-size: 90%;
			}
			.usertool{
				position: absolute;
				left:100px;
				width:800px;
				height:62px;
				font-size: 50px;
				color: black;
				top:325px;
				text-align: center;
				background-color: ghostwhite;
				border: 2px solid purple;
			}
			.srhimg{
				width:60px;height:60px;
				position: absolute;
				left:720px;
			}
			.searchdiv{
				width:800px;
				position: absolute;
				height:300px;
				left:100px;
				background-color: #f5f5f5;
				border-radius: 5%;
				border: 1px solid black;
				top:390px;
				direction:ltr;
				overflow:auto;		
				}
				#endbtn3{
					position: absolute;
					bottom:5px;
					right: 5px;
					
					
					font-size: 45px;
					border:none ;
					background-color: #f5f5f5;
				}
				.main{
					position: absolute;
					width:950px;
					top: 550px;
					left:25px;
					height:300px;
					border: none;
					background-color: pink;
				}
				.gamewindow{
					position: absolute;
					width:230px;
					height:230px;
					text-align: center;
					font-size: 50px;
				}
				.other{
					position: absolute;
					width:950px;
					top:900px;
					border: none;
					height:300px;
					left:25px;
					background-color: beige;
				}
				.bottom{
					position: absolute;
					left:8px;
					top:1550px;
					width:1000px;
					height:100px;
					background-color: gray;
					border-top-left-radius: 20%;
				}
				.imgchange{
					position: absolute;
					top:1230px;
					
					text-align: center;
					width:1000px;
					height:310px;
					border: 1px solid purple;
				}
				.imgc{
					width:300px;
					height:300px;
					border: 5px solid black;
				}
				.imgindexnum{
					width:50px;
					height:50px;
					border: 3px solid purple;
					border-radius: 100%;
					margin: 5px;
				}
				.imgparent{
					position: absolute;
				}
				.Qupload{
					position: absolute;
					left:100px;
					top:280px;
					width:400px;
					height:300px;
					background-color: gray;
					color:white;
					font-size: 45px;
					display: none;
				}
		</style>
	</head>
	<body>
		<div class="user">
			<img src="" id="userimg" class="userimg">
			<p id="username"></p>
			<div class="btna"></div>
			<span class="line" style="background-color: white ;width:600px;left:270px;top:170px;"></span>
			<span style="position: absolute;top:200px;left:100px;width:200px;height:62px;font-size: 48px;background-color: white;border-radius: 5%;color:black;" id="qupload">
				问题反馈
				</span>
		</div>
		
		<div class="usertool">
			<input style="position: absolute;left:1px;width:700px;height:60px;font-size: 45px;background-color: white;border: none;" id="searcher" placeholder="输入你想搜索的内容……">
			<img src="img/searcher.png" class="srhimg">
			
		</div>
		<div style="position: absolute;top:500px;text-align: center;font-size: 30px;color: gray;left:130px;">
			<span style="color:red">当前使用的是测试版!内容未完善</span>
			<span>____建议手机端使用____<a href="index.html" target="_blank">跳转到宣传网页</a>__大牛原创__</span>
		</div>
		<div class="main">
			<span><b>原创区</b></span>
			<a name="gamelink"><div class="gamewindow" style="background-color: red;"></div></a>
			<a name="gamelink"><div class="gamewindow" style="background-color:orange ;left:240px;"></div></a>
			<a name="gamelink"><div class="gamewindow" style="background-color: greenyellow;left: 480px;"></div></a>
			<a name="gamelink"><div class="gamewindow" style="background-color: yellow;left: 720px;"></div></a>
		</div>
		<div class="other">
			<span><b>转载区</b></span>
			<a name="gamelink"><div class="gamewindow" style="background-color:skyblue;left:0px;"><font color=blue>坤了个坤</font><br>作者：未知</div></a>
			<a name="gamelink"><div class="gamewindow" style="background-color:gainsboro;left:240px;font-size: 35px;"><font color=blue>吃掉坤哥</font><br>来源:github|作者fangkuai767</div></a>
			<a name="gamelink"><div class="gamewindow" style="background-color:hotpink;left:480px;font-size: 40px;"><font color=blue>给鸽鸽打电话</font><br>来源:个人网站|作者未知</div></a>
			<a name="gamelink"><div class="gamewindow" style="background-color:orangered;left:720px;font-size: 40px;"><font color=blue>蔡旭坤打飞机</font><br>来源:个人网站|作者未知</div></a>
		</div>
		<div class="imgchange">
			<span class="imgparent">
				<div class="imgindexnum" name="leftindex" style="background-color: blue;"></div>
				<div class="imgindexnum" name="leftindex"></div>
				<div class="imgindexnum" name="leftindex"></div>
				<div class="imgindexnum" name="leftindex"></div>
				<div class="imgindexnum" name="leftindex"></div>
			</span>
		     <span><img src="img/1.jpg" name="imgChange" class="imgc"></span>
			 <span><img src="img/6.jpg" name="imgChange" class="imgc"></span>
			 <span class="imgparent">
				 <div class="imgindexnum" name="rightindex" style="background-color: skyblue;"></div>
				 <div class="imgindexnum" name="rightindex"></div>
				 <div class="imgindexnum" name="rightindex"></div>
				 <div class="imgindexnum" name="rightindex"></div>
				 <div class="imgindexnum" name="rightindex"></div>
			 </span>
		</div>
		<!-- 隐藏元素-->
		<div class="searchdiv" style="display: none;">
			<input type="button" value="关闭" id="endbtn3">
		</div>
		<div class="turn">
			<a>设置你的头像</a>
			<input type="file" style="display: none;" id="file" accept="image/*">
			<div style="width: 100px;height:100px;background-color: skyblue;font-size: 200%;position: absolute;left:250px;top:1px;" id="btnb">+</div>
			<img src="" style="border: 4px solid black;position: absolute;left:420px;top:1px;width:100px;height:100px;" id="viewUserimg">
			<br>
			<br>
			
			<a>设置你的名字</a>
			<input type="text" style="height:42px;background-color: snow;width:300px;border: none;font-size: 42px;" id="uname" placeholder="名字长度小于7">
			<button class="btnc" type="submit">保存</button>
		</div>
		<div class="Qupload">
			<span>选择你遇到的问题</span>
			<select style="width:300px;height:60px;font-size: 45px;" id="s">
				<option selected="selected" value="null">点击这里选择</option>
				<option value="1">1.使用卡顿</option>
				<option value="2">2.数据丢失</option>
				<option value="3">3.图片加载丢失</option>
				<option value="4">自定义输入</option>
			</select>
			<input type="button" id="slt" value="上传">
			</div>
		<!-- -->
		<span class="bottom">
			<div style="width:50px;height:50px;position: absolute;left:670px;border-radius: 100%;background-color: white;top:20px;"></div>
		</span>
		<script>
			//

			if(!localStorage.username){
				localStorage.username=Math.floor(Math.random()*10000)+" 用户"
			}
			if(!localStorage.userimgurl){
				localStorage.userimgurl="./img/userimg.png"
			}
             $("title").text("KunGame-"+localStorage.username)
			document.body.onload=function(){
				document.getElementById("userimg").src=localStorage.userimgurl;
				$("#uname").val(localStorage.username);
                document.getElementById("viewUserimg").src=localStorage.userimgurl;
				$(".btna").text(indextxt.turn)
				var gurl=document.getElementsByName("gamelink")
				for(k=0;k<gurl.length;k++){
					gurl[k].href=gameurl[k]
				}
				
				}//注册点击事件
			
			//
			var imgurl;
			var imgindex=document.getElementsByName("imgChange");
			var imgnumleft=document.getElementsByName("leftindex");
			var imgnumright=document.getElementsByName("rightindex");
			var leftnum=1;
			var rightnum=6;
			setInterval(function(){
				for(g=0;g<imgnumleft.length;g++){
					imgnumleft[g].style.backgroundColor="white";
					
				}
				for(l=0;l<imgnumright.length;l++){
					imgnumright[l].style.backgroundColor="white";
				}
				
				imgindex[0].src=imgchangeurl[leftnum]
				imgnumleft[leftnum].style.backgroundColor="blue";
				leftnum++;
				leftnum==5?leftnum=0:null;
				imgindex[1].src=imgchangeurl[rightnum]
				imgnumright[rightnum-5].style.backgroundColor="skyBlue"
				rightnum++;
				rightnum==10?rightnum=5:null;
				
				
			},3000)
			$(document).ready(function(){
				$("#qupload").click(function(){
					if($(".Qupload").css("display")=="none"){
						$(".Qupload").slideDown(300)
					}else{
						$(".Qupload").slideUp(300)
					}
				})
				$("#slt").click(function(){
					alert("this function is not finished!")
				})
					
				
				$(".imgparent").css("top","2px")
				$(".imgparent").eq(0).css("left","100px")
				$(".imgparent").eq(1).css("right","100px")
				$("#endbtn3").click(function(){
					$(".searchdiv").hide(200)	
				})
				$("#searcher").focus(function(){
					$(".searchdiv").show(200)
				})
				$("#searcher").blur(function(){
					$(".searchdiv").html("<input type='button' value='关闭' id='endbtn3' onclick='turnoff()'>")
					$(".searchdiv").hide(200)
				})
				$(".srhimg").click(function(){
						$(".searchdiv").show(200)
					var result=[]
					var strarr=[];
					var input=$("#searcher").val()
					for(i=0;i<input.length;i++){
						 strarr[i]=input.charAt(i)
					}
					//alert("搜索内容:"+strarr)
					for(k=0;k<strarr.length;k++){
						for(num=0;num<keyword.length;num++){
						if(keyword[num].indexOf(strarr[k])!=-1){
							
							result[num]=keyword[num]
						}else{
							
						}
					}
					}
					var n=0
					for(l=0;l<result.length;l++){
						
						if(result[l]==null){
							n++
						}else{
							
						}
					}
					if(n==result.length){
						$(".searchdiv").html("这里没有你想要的<input type='button' value='关闭' id='endbtn3' onclick='turnoff()'>")
					}else{
					//alert("搜索到了"+result+"等"+(result.length-n)+"个结果")
					for(p=0;p<result.length;p++){
						if(result[p]==null){
							result.splice(p,p)
						}
					}
					//alert(result)
					for(y=0;y<result.length;y++){
						switch(result[y]){
							case keyword[0]:
							$(".searchdiv").append("坤了个坤 <a href='http://124.223.82.198:666/'>点击游玩</a><hr>");
							break;
							case keyword[1]:
							$(".searchdiv").append("吃掉坤哥 <a href='https://fangkuai767.github.io/EatKun'>点击游玩</a><hr>");
							break;
							case keyword[2]:
							$(".searchdiv").append("蔡徐坤打飞鸡 <a href='http://jih.125ks.cn/cxk'>点击游玩</a><hr>");
							break;
							case keyword[3]:
							$(".searchdiv").append("给鸽鸽打电话 <a href='http://jlh.125ks.cn/cxk'>点击游玩</a><hr>");
							break;
							default:
							break;
						}
					}
					}
						
				})
				
				$("#username").text(localStorage.username);
				$("#username").css("position","absolute");
				$("#username").css("left","300px")
				$(".btna").click(function(){
					if($(".turn").css("display")=="block"){
					$(".turn").hide(500);
					}else{
						$(".turn").show(500);
					}
				})
				
				$("#btnb").click(function(){
					$("#file").click()
					$("#file").change(function(){
						var reader = new FileReader();
						reader.readAsDataURL(document.getElementById("file").files[0]);
						reader.onload=function(){
							imgurl=this.result;
							document.getElementById("viewUserimg").src=this.result
						}
					})
				})
				
				$(".btnc").click(function(){
					var cn = confirm("是否保存")
						
					if(cn){
					if(document.getElementById("uname").value.length>6){
						alert("名字长度不能超过6");
					}else{
						localStorage.userimgurl=document.getElementById("viewUserimg").src;
						localStorage.username=$("#uname").val();
						history.go(0);
					}
					}else{
						$(".turn").hide(500);
					}
				})
				
			});
			//包装函数
			//1.超链接函数
			function lianjie(url){
				var a = document.createElement("a");
				a.href=url;
				a.click()
			}
			function turnoff(){
				$(".searchdiv").hide(200)
			}
		</script>
	</body>
</html>
